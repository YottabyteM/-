# 模糊综合评价模型

模糊性是和确定性相对而言，它并不是一个准确的评价，比如：帅、高等评语。

## 模糊集合和隶属函数

**模糊集合**：用来描述模糊性概念的集合（帅、高、白等）。

数学中对于模糊集合的刻画：**隶属函数**

例：$u_A:u \rightarrow [0,1]$  A="年轻" 是一个模糊概念，$u=(0,150)$表示年龄的集合

对于$u$中的每个元素，均对应于A中的一个隶属度，隶属度介于[0,1]，越大表示越接近于这个模糊概念。

### 模糊集合的三种表示方法：

论域$u={x_1,x_2,...,x_n}$，模糊集合为A，隶属度为$A_{(X_i)}$，$i=1,2,...n$

1.Zadeh表示法  $A=\frac{A_{(x_1)}}{x_1}+\frac{A_{(x_2)}}{x_2}+...+\frac{A_{(x_n)}}{x_n}$

2.序偶表示法  $A=\{(x_1,A(x_1)),(x_2,A(x_2)),...,(x_n,A(x_n))\}$

3.向量表示法  $A=\{A(x_1),A(x_2),...,A(x_n)\}$

### 隶属函数的三种确定方法

1.模糊统计法（需要发放问卷，比赛中很少使用）

2.借助已有的客观尺度（比如判断小康家庭，可以使用恩格尔系数）

3.指派法（根据问题的性质直接套用某些分布作为隶属函数，主观性较强）

在指派法中常用到的模糊函数分布见下图：

![avatar](https://github.com/YottabyteM/Stack-Overflow/blob/main/img/AHP/%E5%B8%B8%E7%94%A8%E7%9A%84%E6%A8%A1%E7%B3%8A%E5%87%BD%E6%95%B0%E5%88%86%E5%B8%83.jpg)

在这些分布中，我们用到最多的就是**梯形分布**。

## 模糊综合评价一般步骤

### 评价问题概述：

模糊评价问题是要把**论域中的对象对应评语集中一个指定的评语**或者**将方案作为评语集并选择一个最优的方案**。

在模糊评价中引入了三个集合：

1.因素集（评价指标集）$u=\{u_1,u_2,...,u_n\}$

比如：专业排名、课外实践、志愿服务、竞赛成绩等

2.评语集（评价的结果）$v=\{v_1,v_2,...,v_n\}$

比如：优、良、差等。

3.权重集（指标的权重） $A=\{a_1,a_2,...,a_n\}$

### 一级模糊综合评价模型

在求解模糊综合评价问题时的关键在于**评价矩阵R**的构建：

矩阵中的$R_{ij}$是指指标$u_i$对评语$j$的隶属度

在得到评价矩阵R后，利用B=A*R，可以得到综合评判结果B

我们取B中数值最大的评语作为综合评判结果。

### 多级模糊综合评价模型

对于多级模糊综合评价模型，我们先求解最外层的每个评价矩阵R，再由B=A*R得到综合评价结果B，这时的B即可作为上一级模糊综合评价矩阵中对应指标的那一行。

### 求解模糊综合评价问题的关键

求解模糊综合评价问题的关键在于评价矩阵R的求解。而求解评价矩阵的关键在于求解每个指标对每个评语的隶属度。

根据课程提供的习题，我们可以分为两类：

1.给出实际数据来计算隶属度

这个时候我们需要求出每个指标对于每个评语的隶属函数，再将该指标对应的实际数据带入求得隶属度。

2.未给出实际数据

我们主观地去选取隶属函数，并给出每个指标对每个评语的隶属度。

有的时候题目也会直接给出评价矩阵。

### 习题：

陶瓷厂习题可能的代码：（由于评价矩阵已经给出，相对比较简单，数据导入过于复杂，仅给出了维度正确的矩阵）

```matlab
%假设我们已经拿到了各个评价矩阵
global R23;%一个评价矩阵，在第三维
global W23;%第三维的权重向量
global B23;
global R1;
global W1;
global B1;
global R2;
global W2;
global B2;
global R3;
global W3;
global B3;
global R;
global W;
global B;%最终的结果

%我们在这里把维度设置正确即可
R23=zeros(7,6);
W23=zeros(1,7);
B23=W23*R23;

R1=zeros(5,6);
W1=zeros(1,5);
B1=W1*R1;

R3=zeros(2,6);
W3=zeros(1,2);
B3=W3*R3;

R2=zeros(5,6);
R2(3,:)=B23;
W2=zeros(1,5);
B2=W2*R2;

R=zeros(3,6);
R(1,:)=B1;
R(2,:)=B2;
R(3,:)=B3;
W=zeros(1,3);
B=W*R;

disp(B);
[sorted_B,index] = sort(B);
```

空气质量习题可能的代码：（比较典型和经典）下面仅给出了梯形分布的代码，由于矩阵的每个值都需要带入不同的隶属函数进行计算，这里便不再给出。

```matlab
%梯形分布隶属度的代码
%type表示类型，0极小型，1中间型，2极大型
%a,b,c,d表示区间，其中极小型和极大型只用到a和b
function [val]=membership(type,a,b,c,d,x)
if type==0
    if x<a
        val=1;
    elseif x>=a&&x<=b
        val=(b-x)/(b-a);
    else
        val=0;
    end
elseif type==1
    if x<a
        val=0;
    elseif x>=a&&x<b
        val=(x-a)/(b-a);
    elseif x>=b&&x<c
        val=1;
    elseif x>=c&&x<d
        val=(d-x)/(d-c);
    else
        val=0;
    end
elseif type==2
    if x<a
        val=0;
    elseif x>=a&&x<=b
        val=(x-a)/(b-a);
    else
        val=1;
    end
else
    disp('输入类型有误');
end
end
```



